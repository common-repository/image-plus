!function(){var s,i=["image/svg+xml","image/jpeg"],e=new Image,e=(e.onload=function(){i.push("image/avif")},e.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",new Image),t=(e.onload=function(){i.push("image/webp")},e.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA","imgwb.com/v:loading"),n="img[src*='"+t+"']",A="a[href*='"+t+"']",a="a[data-reason*='"+t+"']",o=Date.now(),f="https://imgwb.com/event",m=(void 0!==window.localStorage&&(f=window.localStorage.getItem("imgwb-event-api")||f),{}),u=[];var v=new Proxy(new URLSearchParams(window.location.search),{get:(e,n)=>e.get(n)}).vwid;v?-1!=v.indexOf("@")&&(v=String(function(i){let t=0;for(let e=0,n=i.length;e<n;e++){var A=i.charCodeAt(e);t=(t<<5)-t+A,t|=0}return t}(v))):v=void 0!==window.localStorage&&window.localStorage.getItem("imgwb-viewer-id")?window.localStorage.getItem("imgwb-viewer-id"):btoa(Math.random().toString()).substr(10,10);let c="imgwb.com/vw:"+v,r,d;void 0!==window.localStorage&&(window.localStorage.setItem("imgwb-viewer-id",v),!(d=window.localStorage.getItem("imgwb-country"))||8e7<Date.now()-d.split("/")[1]?fetch("https://api.imgwb.com/speed").then(e=>e.json()).then(function(e){d=e.speed.country.toLowerCase(),c+="/g:"+d,r&&r.postMessage({from:"imgwb",country:d}),window.localStorage.setItem("imgwb-country",d+"/"+Date.now())}).catch(e=>{}):c+="/g:"+d.split("/")[0]);function w(n){if(void 0!==window.localStorage){var e={...JSON.parse(window.localStorage.getItem("imgwb-viewer-history")||"{}"),...m},i={};if(e){var t,A=parseInt(Date.now()/1e3);for(t in e){var[a,o,c]=e[t].split("/"),c=A-c;c<300?i[t]=[a,o,c].join("/"):delete e[t]}window.localStorage.setItem("imgwb-viewer-history",JSON.stringify(e))}n=n||{};var r,d=/imgwb_event_\w+/,w=document.cookie.split(";");for(let e=0;e<w.length;e++){var[s,u]=w[e].trim().split("=");d.test(s)&&(n[s.replace("imgwb_event_","")]=u,document.cookie=s+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;")}Object.keys(n).length&&Object.keys(i).length&&(r={events:Object.keys(n),viewer_id:v,history:i},x(f,r))}}function g(){u.length&&(x(f,{event:"cachedviews",views:u}),u=[])}function b(n){n.addEventListener("load",function(e){O(n)}),n.src&&(n.src=n.src.replace(t,c)),n.srcset&&(n.srcset=n.srcset.replaceAll(t,c));for(const e of["src","srcset","lazySrc","lazySrcset"])n.dataset[e]&&(n.dataset[e]=n.dataset[e].replaceAll(t,c))}function l(e){e.href=e.href.replace(t,c)}function h(e){e.setAttribute("data-reason",e.getAttribute("data-reason").replace(t,c))}function p(e,n,i){m[n]=[e,i,parseInt(Date.now()/1e3)].join("/")}var B={},y=(void 0!==window.localStorage&&(B=JSON.parse(window.localStorage.getItem("imgwb-image-reloads")||"{}")),{}),D=new IntersectionObserver(function(n){for(let e=0;e<n.length;e++)!n[e].isIntersecting||n[e].intersectionRatio<=.2?[n[e].target,...n[e].target.querySelectorAll("svg")].forEach(function(e){e.pauseAnimations()}):n[e].isIntersecting&&.8<=n[e].intersectionRatio?([n[e].target,...n[e].target.querySelectorAll("svg")].forEach(function(e){e.unpauseAnimations()}),n[e].target.unpauseAnimations()):n[e].isIntersecting&&window.innerHeight/n[e].target.clientHeight<.8&&[n[e].target,...n[e].target.querySelectorAll("svg")].forEach(function(e){e.unpauseAnimations()})},{threshold:[.2,.8]}),x=function(e,n){var i=new Blob([JSON.stringify(n)],{type:"application/json"});navigator.sendBeacon(e,i),document.dispatchEvent(new CustomEvent("imgwb_training",{detail:n}))},O=function(c){var e,n,r,d,w;-1!=c.currentSrc.indexOf("imgwb.com/v")&&-1==c.currentSrc.indexOf(t)&&(e=c.currentSrc.match(/\/i:(\w*)\//),"undefined"!=typeof SVGRect)&&(c.style.visibility="hidden",e?(n=e[1],void 0===y[n]&&(y[n]=0),r=+y[n],y[n]+=1):(n="unknown",r=Date.now()),c.currentSrc,(d=document.querySelector("svg[data-src*='"+c.currentSrc+"']"))&&!d.dataset.underscore?c.parentNode.replaceChild(d.cloneNode(!0),c):fetch(c.currentSrc,{headers:{Accept:i.join(",")},redirect:"manual",cache:B[n]?"no-cache":"default"}).then(e=>(w=e.headers.get("x-imgwb-refresh"),e.text())).then(e=>{var n=document.createElement("div");if(n.innerHTML=r?e.replace(/_/g,r):e,(d=n.firstElementChild)&&"svg"==d.tagName.toLowerCase()){for(var e=c.classList,n=(d.classList.add(...e),c.style.cssText&&(d.style.cssText=c.style.cssText),d.style.visibility="visible",c.getAttribute("width")),i=(n&&d.setAttribute("width",n),c.replaceWith(d),D.observe(d),d.getElementsByClassName("imgwb-remove")),t=0;t<i.length;t++)i[t].parentNode.removeChild(i[t]);d.setAttribute("data-src",c.currentSrc),(d.closest("a")||d).addEventListener("contextmenu",function(e){e.preventDefault()}),(d.closest("a")||d).addEventListener("mouseover",function(e){s=Date.now()});var A,e=d.dataset.asset.split("/"),n=e[0],a=e[1],e=e[2],o=!1;performance&&(A=performance.getEntriesByName(c.currentSrc)).length&&void 0!==A[0].transferSize&&0==A[0].transferSize&&(o=!0,u.push({account_id:n,viewer_id:v,image_id:a,variant_id:e})),p(n,a,e),B[a]&&(delete B[a],window.localStorage.setItem("imgwb-image-reloads",JSON.stringify(B))),w&&!o&&fetch(c.currentSrc.replace("/view","/refresh"))}else c.style.visibility="visible"}).catch(e=>{c.style.visibility="visible"}))};window.addEventListener("load",function(){document.querySelectorAll(n).forEach(function(e){b(e)}),document.querySelectorAll(A).forEach(function(e){l(e)}),document.querySelectorAll(a).forEach(function(e){h(e)})}),new MutationObserver(function(e){e.forEach(function(e){e.addedNodes.forEach(function(e){0!==e.nodeName.indexOf("#")&&("IMG"==e.nodeName?e.src&&-1!=e.src.indexOf(t)&&b(e):"A"==e.nodeName?e.href&&-1!=e.href.indexOf(t)?l(e):e.getAttribute("data-reason")&&-1!=e.getAttribute("data-reason").indexOf(t)&&h(e):(e.querySelectorAll(n).forEach(function(e){b(e)}),e.querySelectorAll(A).forEach(function(e){l(e)}),e.querySelectorAll(a).forEach(function(e){h(e)})))})})}).observe(document,{subtree:!0,childList:!0}),new MutationObserver(function(e){e.forEach(function(e){e.target.src&&-1!=e.target.src.indexOf(t)?b(e.target):e.target.href&&-1!=e.target.href.indexOf(t)?l(e.target):e.target.getAttribute("data-reason")&&-1!=e.target.getAttribute("data-reason").indexOf(t)&&h(e.target)})}).observe(document,{subtree:!0,attributeFilter:["src","srcset","data-src","data-srcset","href","data-reason"]});{const _={"shopify-buy-modal-is-active":"click_web","shopify-buy-cart-wrapper":"cart_g403","bc-product-quick-view__wrapper":"click_web"};new MutationObserver(function(e){e.forEach(function(e){e.addedNodes.forEach(function(i){0!==i.nodeName.indexOf("#")&&Object.entries(_).forEach(function([e,n]){(i.classList.contains(e)||i.getElementsByClassName(e).length)&&w({[n]:Math.floor(Date.now()/1e3)})})})})}).observe(document,{subtree:!0,childList:!0}),new MutationObserver(function(e){e.forEach(function(i){Object.entries(_).forEach(function([e,n]){i.target.classList.contains(e)&&w({[n]:Math.floor(Date.now()/1e3)})})})}).observe(document,{subtree:!0,attributeFilter:["class"]})}document.addEventListener("click",function(e){var n=e.target.tagName.toLowerCase(),i=e.target.closest("a"),t=e.target.closest("svg[data-src]"),A=(t||"a"!=n||(t=e.target.querySelector("svg[data-src]")),new Date),A={time:{ts:A.getTime(),tz:A.getTimezoneOffset(),ps:Date.now()-o},space:{bw:window.innerWidth,bh:window.innerHeight,dpr:window.devicePixelRatio}};if(s&&(A.time.hover=Date.now()-s),i&&i.href&&(A.target=i.href),t){if(!(a=t.dataset.src)||-1==a.indexOf("imgwb.com/v"))return;t.dataset.asset&&(A.asset_id=t.dataset.asset),Object.assign(A.space,{w:t.clientWidth,h:t.clientHeight,x:e.offsetX,y:e.offsetY,px:e.pageX,py:e.pageY}),A.time.anim=parseInt(1e3*t.getCurrentTime()),i&&i.getAttribute("xlink:href")&&(A.target=i.getAttribute("xlink:href"))}else if("img"==n&&-1!=e.target.src.indexOf("imgwb.com/v")){var a=e.target.src;if(-1==e.target.currentSrc.indexOf("imgwb.com/v")){var t=e.target.src.match(/a:([^\/]*)\/i:([^\/]*)/);if(!t)return;A.asset_id=[t[1],t[2],t[2]+"BL","redirect"].join("/")}Object.assign(A.space,{w:e.target.clientWidth,h:e.target.clientHeight,x:e.offsetX,y:e.offsetY,px:e.pageX,py:e.pageY})}else{if(!i||!i.getAttribute("data-reason"))return;a=i.getAttribute("data-reason");document.querySelector("a[href='"+a+"']").forEach(function(e){e.querySelector("img[src*='imgwb.com/v']").forEach(function(e){a=e.currentSrc})})}g(),A.tag=n,e.target.id?A.tag+="#"+e.target.id:"text"==n&&(A.tag+="#"+e.target.innerHTML.replace(/(<([^>]+)>)/gi,"").trim()),performance&&(t=performance.getEntriesByName(a)).length&&(void 0!==t[0].transferSize&&void 0!==t[0].decodedBodySize&&(A.size={tr:t[0].transferSize,cl:t[0].decodedBodySize}),void 0!==t[0].duration)&&(A.time.load=parseInt(t[0].duration)),x(a.replace("/view","/clicked"),A);new CustomEvent("imgwb_training",A)},!1),document.addEventListener("DOMContentLoaded",function(){setTimeout(g,250),setTimeout(w,500)}),"onpagehide"in self?addEventListener("pagehide",function(){g(),w()}):(addEventListener("unload",function(){g(),w()}),addEventListener("beforeunload",function(){g(),w()})),document.addEventListener("visibilitychange",function(){g(),w()}),navigator.serviceWorker&&(navigator.serviceWorker.addEventListener("message",function(e){"imgwb"==e.data.from&&(e.data.event&&w({[e.data.event]:Math.floor(Date.now()/1e3)}),e.data.history)&&(p(e.data.history.account_id,e.data.history.image_id,e.data.history.variant_id),e.data.refresh)&&fetch(e.data.refresh)}),navigator.serviceWorker.ready.then(e=>{r=e.active;e={from:"imgwb",viewer_id:v};d&&(e.country=d.split("/")[0]),r.postMessage(e)}))}();